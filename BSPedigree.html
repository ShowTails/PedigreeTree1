<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>4-Generation Rabbit Pedigree</title>

<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: white;
  }

  #pedigree-container {
    width: 100vw;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    background: white;
  }

  svg {
    display: block;
    width: 100%;
    height: 100%;
    max-width: 11.5in;
    max-height: 8.3in;
    margin: 0 auto;
    background: white;
    page-break-inside: avoid;
    touch-action: none;
  }

  .box {
    width: 320px;
    height: 125px;
    rx: 10;
    ry: 10;
    stroke: black;
    stroke-width: 1.5;
    fill: white;
  }

  .male { fill: #cce5ff; }
  .female { fill: #f8d7da; }

  text {
    font-size: 14px;
    font-family: Arial, sans-serif;
  }

  .name { font-weight: bold; font-size: 16px; }
  .title { font-weight: bold; font-size: 20px; }

  @page {
    size: 11in 8.5in landscape;
    margin: 0;
  }

  @media print {
    html, body {
      width: 11in;
      height: 8.5in;
      margin: 0;
      padding: 0;
      overflow: visible;
      background: white;
    }

    #pedigree-container {
      width: 11in;
      height: 8.5in;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0;
      padding: 0;
      background: white;
    }

    svg {
      width: 10.8in !important;
      height: 8.3in !important;
      transform: none !important;
      background: white !important;
      margin: 0 auto !important;
    }

    image {
      visibility: visible !important;
      display: inline !important;
    }

    #print-btn {
      display: none !important;
    }
  }
</style>
</head>

<body>

<div id="pedigree-container">
  <svg id="pedigree-svg" viewBox="-80 -120 1750 1450" preserveAspectRatio="xMidYMid meet">

    <!-- BACKGROUND BORDER IMAGE (ready for future customization) -->
    <image
      id="border"
      x="-100"
      y="-140"
      width="1900"
      height="1550"
      preserveAspectRatio="xMidYMid slice"
      opacity="1.0"
      style="pointer-events:none;"
    />

    <!-- HEADER -->
    <g id="header" transform="translate(100, -40)">
      <image id="logo" x="0" y="-60" width="140" height="140" preserveAspectRatio="xMidYMid meet"/>
      <g transform="translate(160, -10)">
        <text x="0" y="0" class="title" data-field="rabbitry"></text>
        <text x="0" y="20" class="name" data-field="street"></text>
        <text x="0" y="40" class="name" data-chain="city,state,zip"></text>
        <text x="0" y="60" class="name" data-field="phone"></text>
        <text x="0" y="80" class="name" data-field="email"></text>
        <text x="0" y="110" class="name">Breed:</text>
        <text x="60" y="110" class="name" data-field="breed"></text>
      </g>
    </g>

    <!-- SIGNATURE AREA -->
    <g transform="translate(20,740)">
      <text class="name" x="40" y="200">
        I hereby certify that this pedigree is correct to the best of my knowledge.
      </text>
      <line x1="40" y1="260" x2="350" y2="260" stroke="#000" stroke-width="1"/>
      <text class="name" x="40" y="280">Breeder's Signature</text>
    </g>
    <image id="signature" x="40" y="950" width="220" height="80" preserveAspectRatio="xMidYMid meet"/>

    <!-- (rest of pedigree tree boxes unchanged) -->

  <!-- GEN 1 - Base Rabbit -->
  <rect x="100" y="380" width="220" height="90" class="box"/>
  <text x="110" y="400" text-anchor="left" class="name" data-chain="crabbitry,name"></text>
  <text x="110" y="420" text-anchor="left" class="label">Color:</text>
  <text x="150" y="420" text-anchor="left" data-field="color">  </text>
  <text x="110" y="440" text-anchor="left" class="label">Ear#:</text>
  <text x="150" y="440" text-anchor="left" data-field="ear number"></text>
  <text x="270" y="440" text-anchor="left" class="label">Weight:</text>
  <text x="320" y="440" text-anchor="left" data-field="weight"></text>
  <text x="110" y="460" text-anchor="left" class="label">Sex:</text>
  <text x="150" y="460" text-anchor="left" data-field="sex"></text>
  <text x="270" y="460" text-anchor="left" class="label">Legs:</text>
  <text x="310" y="460" text-anchor="left" data-field="legs"> </text>
  <text x="110" y="480" text-anchor="left" class="label">Reg#:</text>
  <text x="150" y="480" text-anchor="left" data-field="reg"></text>
  <text x="270" y="480" text-anchor="left" class="label">GC#:</text>
  <text x="310" y="480" text-anchor="left" data-field="gc"></text>
  <text x="110" y="500" text-anchor="left" class="label">DOB:</text>
  <text x="150" y="500" text-anchor="left" data-field="dob"></text>
  

  <!-- Lines Gen1 â†’ Gen2 -->
  <line x1="420" y1="440" x2="450" y2="165" stroke="black"/>
  <line x1="420" y1="440" x2="450" y2="715" stroke="black"/>

  <!-- GEN 2 -->
  <!-- Sire -->
  <rect x="450" y="100" width="220" height="90" class="box male" data-slot="sire"/>
  <text x="460" y="120" text-anchor="left" class="name" data-chain="srabbitry,sire"></text>
  <text x="460" y="140" text-anchor="left" class="label">Color:</text>
  <text x="500" y="140" text-anchor="left" data-field="scolor">  </text>
  <text x="460" y="160" text-anchor="left" class="label">Ear#:</text>
  <text x="500" y="160" text-anchor="left" data-field="sear"></text>
  <text x="620" y="160" text-anchor="left" class="label">Weight:</text>
  <text x="680" y="160" text-anchor="left" data-field="sweight"></text>
  <text x="460" y="180" text-anchor="left" class="label">Sex:</text>
  <text x="500" y="180" text-anchor="left" data-field="ssex"></text>
  <text x="620" y="180" text-anchor="left" class="label">Legs:</text>
  <text x="680" y="180" text-anchor="left" data-field="slegs"> </text>
  <text x="460" y="200" text-anchor="left" class="label">Reg#:</text>
  <text x="500" y="200" text-anchor="left" data-field="sreg"></text>
  <text x="620" y="200" text-anchor="left" class="label">GC#:</text>
  <text x="680" y="200" text-anchor="left" data-field="sgc"></text>
  <text x="460" y="220" text-anchor="left" class="label">DOB:</text>
  <text x="500" y="220" text-anchor="left" data-field="sdob"></text>
 

  
  <!-- Lines Gen2 â†’ Gen3 -->
  <line x1="770" y1="165" x2="800" y2="35" stroke="black"/>
  <line x1="770" y1="165" x2="800" y2="300" stroke="black"/>

  <!-- Dam -->
  <rect x="450" y="650" width="200" height="90" class="box female"/>
  <text x="460" y="670" text-anchor="left" class="name" data-chain="drabbitry,dam"></text>
  <text x="460" y="690" text-anchor="left" class="label">Color:</text>
  <text x="500" y="690" text-anchor="left" data-field="dcolor">  </text>
  <text x="460" y="710" text-anchor="left" class="label">Ear#:</text>
  <text x="500" y="710" text-anchor="left" data-field="dear">Sex:</text>
  <text x="620" y="710" text-anchor="left" class="label">Weight:</text>
  <text x="680" y="710" text-anchor="left" data-field="dweight"></text>
  <text x="460" y="730" text-anchor="left" class="label">Sex:</text>
  <text x="500" y="730" text-anchor="left" data-field="dsex"></text>
  <text x="620" y="730" text-anchor="left" class="label">Legs:</text>
  <text x="680" y="730" text-anchor="left" data-field="dlegs"> </text>
  <text x="460" y="750" text-anchor="left" class="label">Reg#:</text>
  <text x="500" y="750" text-anchor="left" data-field="dreg"></text>
  <text x="620" y="750" text-anchor="left" class="label">GC#:</text>
  <text x="680" y="750" text-anchor="left" data-field="dgc"></text>
  <text x="460" y="770" text-anchor="left" class="label">DOB:</text>
  <text x="500" y="770" text-anchor="left" data-field="ddob"></text>



  <!-- Lines Gen2 â†’ Gen3 -->
  <line x1="770" y1="715" x2="800" y2="580" stroke="black"/>
  <line x1="770" y1="715" x2="800" y2="850" stroke="black"/>

  <!-- GEN 3 -->

  <!-- Sire - Grand Sire -->
  <rect x="800" y="-35" width="200" height="90" class="box male"/>
  <text x="810" y="-15" text-anchor="left" class="name" data-chain="ssrabbitry,ssire"></text>
  <text x="810" y="5" text-anchor="left" class="label">Color:</text>
  <text x="850" y="5" text-anchor="left" data-field="sscolor">  </text>
  <text x="810" y="25" text-anchor="left" class="label">Ear#:</text>
  <text x="850" y="25" text-anchor="left" data-field="ssear"></text>
  <text x="980" y="25" text-anchor="left" class="label">Weight:</text>
  <text x="1030" y="25" text-anchor="left" data-field="ssweight"></text>
  <text x="810" y="45" text-anchor="left" class="label">Sex:</text>
  <text x="850" y="45" text-anchor="left" data-field="sssex"></text>
  <text x="980" y="45" text-anchor="left" class="label">Legs:</text>
  <text x="1030" y="45" text-anchor="left" data-field="sslegs"> </text>
  <text x="810" y="65" text-anchor="left" class="label">Reg#:</text>
  <text x="850" y="65" text-anchor="left" data-field="ssreg"></text>
  <text x="980" y="65" text-anchor="left" class="label">GC#:</text>
  <text x="1030" y="65" text-anchor="left" data-field="ssgc"></text>
  <text x="810" y="85" text-anchor="left" class="label">DOB:</text>
  <text x="850" y="85" text-anchor="left" data-field="ssdob"></text>

  
  <!-- Lines Gen3 â†’ Gen4 --> 
  <line x1="1120" y1="35" x2="1150" y2="-35" stroke="black"/>
  <line x1="1120" y1="35" x2="1150" y2="100" stroke="black"/>
  
  <!-- Sire - Grand Dam -->
  <rect x="800" y="235" width="200" height="90" class="box female"/>
  <text x="810" y="255" text-anchor="left" class="name" data-chain="sdrabbitry,sdam"></text>
  <text x="810" y="275" text-anchor="left" class="label">Color:</text>
  <text x="850" y="275" text-anchor="left" data-field="sdcolor">  </text>
  <text x="810" y="295" text-anchor="left" class="label">Ear#:</text>
  <text x="850" y="295" text-anchor="left" data-field="sdear"></text>
  <text x="980" y="295" text-anchor="left" class="label">Weight:</text>
  <text x="1030" y="295" text-anchor="left" data-field="sdweight"></text>
  <text x="810" y="315" text-anchor="left" class="label">Sex:</text>
  <text x="850" y="315" text-anchor="left" data-field="sdsex"></text>
  <text x="980" y="315" text-anchor="left" class="label">Legs:</text>
  <text x="1030" y="315" text-anchor="left" data-field="sdlegs"> </text>
  <text x="810" y="335" text-anchor="left" class="label">Reg#:</text>
  <text x="850" y="335" text-anchor="left" data-field="sdreg"></text>
  <text x="980" y="335" text-anchor="left" class="label">GC#:</text>
  <text x="1030" y="335" text-anchor="left" data-field="sdgc"></text>
  <text x="810" y="355" text-anchor="left" class="label">DOB:</text>
  <text x="850" y="355" text-anchor="left" data-field="sddob"></text>
  

  <!-- Lines Gen3 â†’ Gen4 -->
  <line x1="1120" y1="300" x2="1150" y2="235" stroke="black"/>
  <line x1="1120" y1="300" x2="1150" y2="370" stroke="black"/>
  
  <!-- Dam - Grand Sire -->
  <rect x="800" y="515" width="200" height="90" class="box male"/>
  <text x="810" y="535" text-anchor="left" class="name" data-chain="dsrabbitry,dsire"></text>
  <text x="810" y="555" text-anchor="left" class="label">Color:</text>
  <text x="850" y="555" text-anchor="left" data-field="dscolor">  </text>
  <text x="810" y="575" text-anchor="left" class="label">Ear#:</text>
  <text x="850" y="575" text-anchor="left" data-field="dsear"></text>
  <text x="980" y="575" text-anchor="left" class="label">Weight:</text>
  <text x="1030" y="575" text-anchor="left" data-field="dsweight"></text>
  <text x="810" y="595" text-anchor="left" class="label">Sex:</text>
  <text x="850" y="595" text-anchor="left" data-field="dssex"></text>
  <text x="980" y="595" text-anchor="left" class="label">Legs:</text>
  <text x="1030" y="595" text-anchor="left" data-field="dslegs"> </text>
  <text x="810" y="615" text-anchor="left" class="label">Reg#:</text>
  <text x="850" y="615" text-anchor="left" data-field="dsreg"></text>
  <text x="980" y="615" text-anchor="left" class="label">GC#:</text>
  <text x="1030" y="615" text-anchor="left" data-field="dsgc"></text>
  <text x="810" y="635" text-anchor="left" class="label">DOB:</text>
  <text x="850" y="635" text-anchor="left" data-field="dsdob"></text>
  

  <!-- Lines Gen3 â†’ Gen4 -->
  <line x1="1120" y1="580" x2="1150" y2="515" stroke="black"/>
  <line x1="1120" y1="580" x2="1150" y2="650" stroke="black"/>
  
  <!-- Dam - Grand Dam -->
  <rect x="800" y="785" width="200" height="90" class="box female"/>
  <text x="810" y="805" text-anchor="left" class="name" data-chain="ddrabbitry,ddam"></text>
  <text x="810" y="825" text-anchor="left" class="label">Color:</text>
  <text x="850" y="825" text-anchor="left" data-field="ddcolor">  </text>
  <text x="810" y="845" text-anchor="left" class="label">Ear#:</text>
  <text x="850" y="845" text-anchor="left" data-field="ddear"></text>
  <text x="980" y="845" text-anchor="left" class="label">Weight:</text>
  <text x="1030" y="845" text-anchor="left" data-field="ddweight"></text>
  <text x="810" y="865" text-anchor="left" class="label">Sex:</text>
  <text x="850" y="865" text-anchor="left" data-field="ddsex"></text>
  <text x="980" y="865" text-anchor="left" class="label">Legs:</text>
  <text x="1030" y="865" text-anchor="left" data-field="ddlegs"> </text>
  <text x="810" y="885" text-anchor="left" class="label">Reg#:</text>
  <text x="850" y="885" text-anchor="left" data-field="ddreg"></text>
  <text x="980" y="885" text-anchor="left" class="label">GC#:</text>
  <text x="1030" y="885" text-anchor="left" data-field="ddgc"></text>
  <text x="810" y="905" text-anchor="left" class="label">DOB:</text>
  <text x="850" y="905" text-anchor="left" data-field="dddob"></text>
  
  
  <!-- Lines Gen3 â†’ Gen4 -->
  <line x1="1120" y1="850" x2="1150" y2="785" stroke="black"/>
  <line x1="1120" y1="850" x2="1150" y2="920" stroke="black"/>

  <!-- GEN 4 -->


  <!-- Sire - Grand Sire - Great Grand Sire -->
  <rect x="1150" y="-100" width="200" height="90" class="box male"/>
  <text x="1160" y="-80" text-anchor="left" class="name" data-chain="sssrabbitry,sssire"></text>
  <text x="1160" y="-60" text-anchor="left" class="label">Color:</text>
  <text x="1200" y="-60" text-anchor="left" data-field="ssscolor">  </text>
  <text x="1160" y="-40" text-anchor="left" class="label">Ear#:</text>
  <text x="1200" y="-40" text-anchor="left" data-field="sssear"></text>
  <text x="1330" y="-40" text-anchor="left" class="label">Weight:</text>
  <text x="1380" y="-40" text-anchor="left" data-field="sssweight"></text>
  <text x="1160" y="-20" text-anchor="left" class="label">Sex:</text>
  <text x="1200" y="-20" text-anchor="left" data-field="ssssex"></text>
  <text x="1330" y="-20" text-anchor="left" class="label">Legs:</text>
  <text x="1380" y="-20" text-anchor="left" data-field="ssslegs"> </text>
  <text x="1160" y="0" text-anchor="left" class="label">Reg#:</text>
  <text x="1200" y="0" text-anchor="left" data-field="sssreg"></text>
  <text x="1330" y="0" text-anchor="left" class="label">GC#:</text>
  <text x="1380" y="0" text-anchor="left" data-field="sssgc"></text>
  <text x="1160" y="20" text-anchor="left" class="label">DOB:</text>
  <text x="1200" y="20" text-anchor="left" data-field="sssdob"></text>
  

  <!-- Sire - Grand Sire - Great Grand Dam -->
  <rect x="1150" y="35" width="200" height="90" class="box female"/>
  <text x="1160" y="55" text-anchor="left" class="name" data-chain="ssdrabbitry,ssdam"></text>
  <text x="1160" y="75" text-anchor="left" class="label">Color:</text>
  <text x="1200" y="75" text-anchor="left" data-field="ssdcolor">  </text>
  <text x="1160" y="95" text-anchor="left" class="label">Ear#:</text>
  <text x="1200" y="95" text-anchor="left" data-field="ssdear"></text>
  <text x="1330" y="95" text-anchor="left" class="label">Weight:</text>
  <text x="1380" y="95" text-anchor="left" data-field="ssdweight"></text>
  <text x="1160" y="115" text-anchor="left" class="label">Sex:</text>
  <text x="1200" y="115" text-anchor="left" data-field="ssdsex"></text>
  <text x="1330" y="115" text-anchor="left" class="label">Legs:</text>
  <text x="1380" y="115" text-anchor="left" data-field="ssdlegs"> </text>
  <text x="1160" y="135" text-anchor="left" class="label">Reg#:</text>
  <text x="1200" y="135" text-anchor="left" data-field="ssdreg"></text>
  <text x="1330" y="135" text-anchor="left" class="label">GC#:</text>
  <text x="1380" y="135" text-anchor="left" data-field="ssdgc"></text>
  <text x="1160" y="155" text-anchor="left" class="label">DOB:</text>
  <text x="1200" y="155" text-anchor="left" data-field="ssddob"></text>

 
  <!-- Sire - Grand Dam - Great Grand Sire -->
  <rect x="1150" y="170" width="200" height="90" class="box male"/>
  <text x="1160" y="190" text-anchor="left" class="name" data-chain="sdsrabbitry,sdsire"></text>
  <text x="1160" y="210" text-anchor="left" class="label">Color:</text>
  <text x="1200" y="210" text-anchor="left" data-field="sdscolor">  </text>
  <text x="1160" y="230" text-anchor="left" class="label">Ear#:</text>
  <text x="1200" y="230" text-anchor="left" data-field="sdsear"></text>
  <text x="1330" y="230" text-anchor="left" class="label">Weight:</text>
  <text x="1380" y="230" text-anchor="left" data-field="sdsweight"></text>
  <text x="1160" y="250" text-anchor="left" class="label">Sex:</text>
  <text x="1200" y="250" text-anchor="left" data-field="sdssex"></text>
  <text x="1330" y="250" text-anchor="left" class="label">Legs:</text>
  <text x="1380" y="250" text-anchor="left" data-field="sdslegs"> </text>
  <text x="1160" y="270" text-anchor="left" class="label">Reg#:</text>
  <text x="1200" y="270" text-anchor="left" data-field="sdsreg"></text>
  <text x="1330" y="270" text-anchor="left" class="label">GC#:</text>
  <text x="1380" y="270" text-anchor="left" data-field="sdsgc"></text>
  <text x="1160" y="290" text-anchor="left" class="label">DOB:</text>
  <text x="1200" y="290" text-anchor="left" data-field="sdsdob"></text>


  <!-- Sire - Grand Dam - Great Grand Dam -->
  <rect x="1150" y="305" width="200" height="90" class="box female"/>
  <text x="1160" y="325" text-anchor="left" class="name" data-chain="sddrabbitry,sddam"></text>
  <text x="1160" y="345" text-anchor="left" class="label">Color:</text>
  <text x="1200" y="345" text-anchor="left" data-field="sddcolor">  </text>
  <text x="1160" y="365" text-anchor="left" class="label">Ear#:</text>
  <text x="1200" y="365" text-anchor="left" data-field="sddear"></text>
  <text x="1330" y="365" text-anchor="left" class="label">Weight:</text>
  <text x="1380" y="365" text-anchor="left" data-field="sddweight"></text>
  <text x="1160" y="385" text-anchor="left" class="label">Sex:</text>
  <text x="1200" y="385" text-anchor="left" data-field="sddsex"></text>
  <text x="1330" y="385" text-anchor="left" class="label">Legs:</text>
  <text x="1380" y="385" text-anchor="left" data-field="sddlegs"> </text>
  <text x="1160" y="405" text-anchor="left" class="label">Reg#:</text>
  <text x="1200" y="405" text-anchor="left" data-field="sddreg"></text>
  <text x="1330" y="405" text-anchor="left" class="label">GC#:</text>
  <text x="1380" y="405" text-anchor="left" data-field="sddgc"></text>
  <text x="1160" y="425" text-anchor="left" class="label">DOB:</text>
  <text x="1200" y="425" text-anchor="left" data-field="sdddob"></text>

  
  <!-- Dam - Grand Sire - Great Grand Sire -->
  <rect x="1150" y="450" width="200" height="90" class="box male"/>
 <text x="1160" y="470" text-anchor="left" class="name" data-chain="dssrabbitry,dssire"></text>
  <text x="1160" y="490" text-anchor="left" class="label">Color:</text>
  <text x="1200" y="490" text-anchor="left" data-field="dsscolor">  </text>
  <text x="1160" y="510" text-anchor="left" class="label">Ear#:</text>
  <text x="1200" y="510" text-anchor="left" data-field="dssear"></text>
  <text x="1330" y="510" text-anchor="left" class="label">Weight:</text>
  <text x="1380" y="510" text-anchor="left" data-field="dssweight"></text>
  <text x="1160" y="530" text-anchor="left" class="label">Sex:</text>
  <text x="1200" y="530" text-anchor="left" data-field="dsssex"></text>
  <text x="1330" y="530" text-anchor="left" class="label">Legs:</text>
  <text x="1380" y="530" text-anchor="left" data-field="dsslegs"> </text>
  <text x="1160" y="550" text-anchor="left" class="label">Reg#:</text>
  <text x="1200" y="550" text-anchor="left" data-field="dssreg"></text>
  <text x="1330" y="550" text-anchor="left" class="label">GC#:</text>
  <text x="1380" y="550" text-anchor="left" data-field="dssgc"></text>
  <text x="1160" y="570" text-anchor="left" class="label">DOB:</text>
  <text x="1200" y="570" text-anchor="left" data-field="dssdob"></text>


  <!-- Dam - Grand Sire - Grand Grand Dam -->
  <rect x="1150" y="585" width="200" height="90" class="box female"/>
  <text x="1160" y="605" text-anchor="left" class="name" data-chain="dsdrabbitry,dsdam"></text>
  <text x="1160" y="625" text-anchor="left" class="label">Color:</text>
  <text x="1200" y="625" text-anchor="left" data-field="dsdcolor">  </text>
  <text x="1160" y="645" text-anchor="left" class="label">Ear#:</text>
  <text x="1200" y="645" text-anchor="left" data-field="dsdear"></text>
  <text x="1330" y="645" text-anchor="left" class="label">Weight:</text>
  <text x="1380" y="645" text-anchor="left" data-field="dsdweight"></text>
  <text x="1160" y="665" text-anchor="left" class="label">Sex:</text>
  <text x="1200" y="665" text-anchor="left" data-field="dsdsex"></text>
  <text x="1330" y="665" text-anchor="left" class="label">Legs:</text>
  <text x="1380" y="665" text-anchor="left" data-field="dsdlegs"> </text>
  <text x="1160" y="685" text-anchor="left" class="label">Reg#:</text>
  <text x="1200" y="685" text-anchor="left" data-field="dsdreg"></text>
  <text x="1330" y="685" text-anchor="left" class="label">GC#:</text>
  <text x="1380" y="685" text-anchor="left" data-field="dsdgc"></text>
  <text x="1160" y="705" text-anchor="left" class="label">DOB:</text>
  <text x="1200" y="705" text-anchor="left" data-field="dsddob"></text>


  <!-- Dam - Grand Dam - Great Grand Sire-->
  <rect x="1150" y="720" width="200" height="90" class="box male"/>
  <text x="1160" y="740" text-anchor="left" class="name" data-chain="ddsrabbitry,ddsire"></text>
  <text x="1160" y="760" text-anchor="left" class="label">Color:</text>
  <text x="1200" y="760" text-anchor="left" data-field="ddscolor">  </text>
  <text x="1160" y="780" text-anchor="left" class="label">Ear#:</text>
  <text x="1200" y="780" text-anchor="left" data-field="ddsear"></text>
  <text x="1330" y="780" text-anchor="left" class="label">Weight:</text>
  <text x="1380" y="780" text-anchor="left" data-field="ddsweight"></text>
  <text x="1160" y="800" text-anchor="left" class="label">Sex:</text>
  <text x="1200" y="800" text-anchor="left" data-field="ddssex"></text>
  <text x="1330" y="800" text-anchor="left" class="label">Legs:</text>
  <text x="1380" y="800" text-anchor="left" data-field="ddslegs"> </text>
  <text x="1160" y="820" text-anchor="left" class="label">Reg#:</text>
  <text x="1200" y="820" text-anchor="left" data-field="ddsreg"></text>
  <text x="1330" y="820" text-anchor="left" class="label">GC#:</text>
  <text x="1380" y="820" text-anchor="left" data-field="ddsgc"></text>
  <text x="1160" y="840" text-anchor="left" class="label">DOB:</text>
  <text x="1200" y="840" text-anchor="left" data-field="ddsdob"></text>


  <!-- Dam - Grand Dam - Great Grand Dam-->
  <rect x="1150" y="855" width="200" height="90" class="box female"/>
  <text x="1160" y="875" text-anchor="left" class="name" data-chain="dddrabbitry,dddam"></text>
  <text x="1160" y="895" text-anchor="left" class="label">Color:</text>
  <text x="1200" y="895" text-anchor="left" data-field="dddcolor">  </text>
  <text x="1160" y="915" text-anchor="left" class="label">Ear#:</text>
  <text x="1200" y="915" text-anchor="left" data-field="dddear"></text>
  <text x="1330" y="915" text-anchor="left" class="label">Weight:</text>
  <text x="1380" y="915" text-anchor="left" data-field="dddweight"></text>
  <text x="1160" y="935" text-anchor="left" class="label">Sex:</text>
  <text x="1200" y="935" text-anchor="left" data-field="dddsex"></text>
  <text x="1330" y="935" text-anchor="left" class="label">Legs:</text>
  <text x="1380" y="935" text-anchor="left" data-field="dddlegs"> </text>
  <text x="1160" y="955" text-anchor="left" class="label">Reg#:</text>
  <text x="1200" y="955" text-anchor="left" data-field="dddreg"></text>
  <text x="1330" y="955" text-anchor="left" class="label">GC#:</text>
  <text x="1380" y="955" text-anchor="left" data-field="dddgc"></text>
  <text x="1160" y="975" text-anchor="left" class="label">DOB:</text>
  <text x="1200" y="975" text-anchor="left" data-field="ddddob"></text>

    </svg>
</div>

<!-- PRINT BUTTON -->
<button id="print-btn" style="
  position: absolute;
  top: 10px;
  right: 10px;
  padding: 8px 16px;
  background-color: #4A4A4A;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
">Print / Save PDF</button>

<script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>

<!-- PAN / ZOOM -->
<script>
(function() {
  const svg = document.getElementById('pedigree-svg');
  const container = document.getElementById('pedigree-container');
  let panZoom;

  function fit() {
    if (!panZoom) return;
    const vb = svg.viewBox.baseVal;
    const scale = Math.min(container.clientWidth / vb.width, container.clientHeight / vb.height);
    panZoom.zoom(scale);
    panZoom.pan({
      x: (container.clientWidth - vb.width * scale) / 2,
      y: (container.clientHeight - vb.height * scale) / 2
    });
  }

  window.addEventListener('load', () => {
    panZoom = svgPanZoom(svg, { zoomEnabled: true, panEnabled: true, controlIconsEnabled: false });
    window.panZoomInstance = panZoom;
    fit();
    new ResizeObserver(fit).observe(container);
  });
})();
</script>

<!-- PRINT LOGIC (desktop + mobile) -->
<script>
window.addEventListener("load", () => {
  const btn = document.getElementById("print-btn");
  if (!btn) return;

  btn.addEventListener("click", (e) => {
    e.preventDefault();
    const inst = window.panZoomInstance;
    if (!inst) return window.print();

    const saved = { pan: inst.getPan(), zoom: inst.getZoom() };
    inst.resetZoom();
    inst.center();

    const isMobile = /Mobi|Android|iPhone|iPad/i.test(navigator.userAgent);
    inst.zoom(isMobile ? 1.22 : 1.45);
    inst.pan({ x: isMobile ? 50 : 60, y: isMobile ? 100 : 120 });

    ["logo", "signature", "border"].forEach(id => {
      const el = document.getElementById(id);
      if (el) {
        const href = el.getAttribute("href") || el.getAttribute("xlink:href");
        if (href) {
          el.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", href);
          el.setAttribute("href", href);
        }
      }
    });

    setTimeout(() => {
      window.print();
      setTimeout(() => {
        inst.zoom(saved.zoom);
        inst.pan(saved.pan);
      }, 800);
    }, 400);
  });
});
</script>

<!-- ðŸ§© Border Loader (ready for future use) -->
<script>
window.addEventListener("load", () => {
  const borderEl = document.getElementById("border");
  const urlParams = new URLSearchParams(window.location.search);
  const borderURL = urlParams.get("border");
  if (borderURL) {
    borderEl.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", borderURL);
    borderEl.setAttribute("href", borderURL);
  } else {
    borderEl.style.display = "none";
  }
});
</script>

</body>
</html>
